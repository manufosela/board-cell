<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <style>
      body {
        background: #fafafa;
      }
    </style>
  </head>
  <body>
    <div id="demo"></div>
    <script type="module">
      import { html, render } from 'lit';
      import '../board-cell.js';

      render(
        html`
          <board-cell
            id="demo-cell"
            cols="10"
            rows="10"
            cell-size="50"
            title="Demo board-cell"
            onclick="cellClick"
          >
          </board-cell>
        `,
        document.querySelector('#demo')
      );
    </script>
    <script>
      const color = Math.floor(Math.random() * 16777215).toString(16);
      function cellClick(ev) {
        console.log(ev.detail);
        if (ev.detail.content === null) {
          const drawCell = new CustomEvent('board-change-cell-content', {
            detail: {
              id: 'demo-cell',
              cellx: ev.detail.cellx,
              celly: ev.detail.celly,
              content: `#${color}`,
            },
          });
          document.dispatchEvent(drawCell);
        }
      }

      function wcReady(ev) {
        const { id, wcTag } = ev.detail;
        if (wcTag === 'board-cell' && id === 'demo-cell') {
          const board = document.getElementById(id);
          board.clearEventCell(1, 1);
        }
      }

      document.addEventListener('wc-Ready', wcReady);
    </script>
  </body>
</html>
